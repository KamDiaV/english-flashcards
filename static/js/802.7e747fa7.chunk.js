"use strict";(self.webpackChunkenglish_flashcards=self.webpackChunkenglish_flashcards||[]).push([[802],{2802:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});a(5043);var n=a(9781),r=a(5604),s=a(5207),c=a(6273),i=a(6232);const o={page:"VocabPage_page__JdCUR",status:"VocabPage_status__TapHR",title:"VocabPage_title__Q+gxY",table:"VocabPage_table__mZDms",actions:"VocabPage_actions__G2xyx",repeatButton:"VocabPage_repeatButton__WEbW9"};var d=a(579);function l(){const t=(0,n.jE)(),e=JSON.parse(localStorage.getItem("vocabProgress")||"{}"),{data:a=[],isLoading:l,isError:u}=(0,r.I)({queryKey:["vocabWords"],queryFn:async()=>(await(0,s.qi)()).filter(t=>{var a;return null===(a=e[t.id])||void 0===a?void 0:a.knownByUser}),refetchOnWindowFocus:!1});return l?(0,d.jsx)(i.A,{}):u?(0,d.jsx)("p",{className:o.status,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435"}):(0,d.jsxs)("div",{className:o.page,children:[(0,d.jsx)("h2",{className:o.title,children:"\u041c\u043e\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u043d\u044b\u0439 \u0437\u0430\u043f\u0430\u0441"}),0===a.length?(0,d.jsx)("p",{className:o.status,children:"\u0421\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442."}):(0,d.jsxs)("table",{className:o.table,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"\u0421\u043b\u043e\u0432\u043e"}),(0,d.jsx)("th",{children:"\u0422\u0440\u0430\u043d\u0441\u043a\u0440\u0438\u043f\u0446\u0438\u044f"}),(0,d.jsx)("th",{children:"\u041f\u0435\u0440\u0435\u0432\u043e\u0434"}),(0,d.jsx)("th",{children:"\u0422\u0435\u043c\u0430"}),(0,d.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,d.jsx)("tbody",{children:a.map(e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.english}),(0,d.jsx)("td",{children:e.transcription||"\u2014"}),(0,d.jsx)("td",{children:e.russian}),(0,d.jsx)("td",{children:e.tags||"\u2014"}),(0,d.jsx)("td",{className:o.actions,children:(0,d.jsx)("button",{className:o.repeatButton,onClick:()=>(e=>{(0,c.R)(e),t.setQueryData(["vocabWords"],t=>(t||[]).filter(t=>t.id!==e));const n=a.find(t=>t.id===e);t.setQueryData(["trainWords"],t=>n?[n,...t||[]]:t||[])})(e.id),children:" \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c "})})]},"vocab-".concat(e.id)))})]})]})}},5207:(t,e,a)=>{a.d(e,{Kk:()=>d,KW:()=>l,I0:()=>g,qi:()=>h,ob:()=>u});var n=a(2555),r=a(9722);function s(t){try{return JSON.parse(localStorage.getItem(t))||[]}catch(e){return[]}}function c(t,e){localStorage.setItem(t,JSON.stringify(e))}const i="https://flashcards-api-snowy-mountain-4760.fly.dev",o="addedWords",d="deletedWords";async function l(t){const e=await function(t){return r.A.post("".concat(i,"/words"),t).then(t=>t.data)}(t),a="number"===typeof e.id?e.id:"local-".concat(Date.now()),d=(0,n.A)({id:a},t),l=s(o);return c(o,[...l,d]),d}async function u(t){const e=await function(t){return r.A.put("".concat(i,"/words/").concat(t.id),t).then(t=>t.data)}(t),a="number"===typeof e.id?e.id:t.id,d=(0,n.A)({id:a},t),l=s(o).filter(t=>String(t.id)!==String(a));return c(o,[...l,d]),d}async function g(t){String(t).startsWith("local-")||await function(t){return r.A.delete("".concat(i,"/words/").concat(t))}(t);const e=s(o).filter(e=>String(e.id)!==String(t));c(o,e);const a=s(d);return a.includes(String(t))||c(d,[...a,String(t)]),t}async function h(){const t=await r.A.get("".concat(i,"/words")).then(t=>t.data),e=s(d),a=s(o),n=t.filter(t=>!e.includes(String(t.id)));return[...n.map(t=>a.find(e=>String(e.id)===String(t.id))||t),...a.filter(t=>!n.find(e=>String(e.id)===String(t.id)))]}},6273:(t,e,a)=>{a.d(e,{R:()=>o,p:()=>i});var n=a(2555),r=a(5043);const s="vocabProgress",c={correctStreak:0,knownByUser:!1};function i(t){const[e,a]=(0,r.useState)(c);(0,r.useEffect)(()=>{const e=JSON.parse(localStorage.getItem(s)||"{}");a(e[t]||c)},[t]);return[e,e=>{a(a=>{const r=(0,n.A)((0,n.A)({},a),e),c=JSON.parse(localStorage.getItem(s)||"{}");return c[t]=r,localStorage.setItem(s,JSON.stringify(c)),r})},()=>{a(c);const e=JSON.parse(localStorage.getItem(s)||"{}");delete e[t],localStorage.setItem(s,JSON.stringify(e))}]}function o(t){const e=JSON.parse(localStorage.getItem(s)||"{}");delete e[t],localStorage.setItem(s,JSON.stringify(e))}}}]);
//# sourceMappingURL=802.7e747fa7.chunk.js.map