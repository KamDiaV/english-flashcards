"use strict";(self.webpackChunkenglish_flashcards=self.webpackChunkenglish_flashcards||[]).push([[802],{2802:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});a(5043);var s=a(9781),r=a(5604),n=a(9766),i=a(8659),o=a(6232);const c={page:"VocabPage_page__JdCUR",status:"VocabPage_status__TapHR",title:"VocabPage_title__Q+gxY",table:"VocabPage_table__mZDms",actions:"VocabPage_actions__G2xyx",repeatButton:"VocabPage_repeatButton__WEbW9"};var l=a(579);function d(){const t=(0,s.jE)(),e=JSON.parse(localStorage.getItem("vocabProgress")||"{}"),{data:a=[],isLoading:d,isError:g}=(0,r.I)({queryKey:["vocabWords"],queryFn:async()=>(await(0,n.qi)()).filter((t=>{var a;return null===(a=e[t.id])||void 0===a?void 0:a.knownByUser})),refetchOnWindowFocus:!1});return d?(0,l.jsx)(o.A,{}):g?(0,l.jsx)("p",{className:c.status,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435"}):(0,l.jsxs)("div",{className:c.page,children:[(0,l.jsx)("h2",{className:c.title,children:"\u041c\u043e\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u043d\u044b\u0439 \u0437\u0430\u043f\u0430\u0441"}),0===a.length?(0,l.jsx)("p",{className:c.status,children:"\u0421\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442."}):(0,l.jsxs)("table",{className:c.table,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"\u0421\u043b\u043e\u0432\u043e"}),(0,l.jsx)("th",{children:"\u0422\u0440\u0430\u043d\u0441\u043a\u0440\u0438\u043f\u0446\u0438\u044f"}),(0,l.jsx)("th",{children:"\u041f\u0435\u0440\u0435\u0432\u043e\u0434"}),(0,l.jsx)("th",{children:"\u0422\u0435\u043c\u0430"}),(0,l.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,l.jsx)("tbody",{children:a.map((e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.english}),(0,l.jsx)("td",{children:e.transcription||"\u2014"}),(0,l.jsx)("td",{children:e.russian}),(0,l.jsx)("td",{children:e.tags||"\u2014"}),(0,l.jsx)("td",{className:c.actions,children:(0,l.jsx)("button",{className:c.repeatButton,onClick:()=>(e=>{(0,i.R)(e),t.setQueryData(["vocabWords"],(t=>(t||[]).filter((t=>t.id!==e))));const s=a.find((t=>t.id===e));t.setQueryData(["trainWords"],(t=>s?[s,...t||[]]:t||[]))})(e.id),children:" \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c "})})]},`vocab-${e.id}`)))})]})]})}},8659:(t,e,a)=>{a.d(e,{R:()=>o,p:()=>i});var s=a(5043);const r="vocabProgress",n={correctStreak:0,knownByUser:!1};function i(t){const[e,a]=(0,s.useState)(n);(0,s.useEffect)((()=>{const e=JSON.parse(localStorage.getItem(r)||"{}");a(e[t]||n)}),[t]);return[e,e=>{a((a=>{const s={...a,...e},n=JSON.parse(localStorage.getItem(r)||"{}");return n[t]=s,localStorage.setItem(r,JSON.stringify(n)),s}))},()=>{a(n);const e=JSON.parse(localStorage.getItem(r)||"{}");delete e[t],localStorage.setItem(r,JSON.stringify(e))}]}function o(t){const e=JSON.parse(localStorage.getItem(r)||"{}");delete e[t],localStorage.setItem(r,JSON.stringify(e))}},9766:(t,e,a)=>{a.d(e,{I0:()=>l,KW:()=>o,Kk:()=>i,ob:()=>c,qi:()=>d});var s=a(6213);const r="https://itgirlschool.justmakeit.ru/api",n="addedWords",i="deletedWords";async function o(t){const e=await function(t){return s.A.post(`${r}/words`,t).then((t=>t.data))}(t),a={id:"number"===typeof e.id?e.id:`local-${Date.now()}`,english:t.english,transcription:t.transcription,russian:t.russian,tags:t.tags},i=JSON.parse(localStorage.getItem(n)||"[]");return localStorage.setItem(n,JSON.stringify([...i,a])),a}async function c(t){const e=await function(t){return s.A.put(`${r}/words/${t.id}`,t).then((t=>t.data))}(t),a="number"===typeof e.id?e.id:t.id,i={id:a,english:t.english,transcription:t.transcription,russian:t.russian,tags:t.tags},o=JSON.parse(localStorage.getItem(n)||"[]").filter((t=>String(t.id)!==String(a)));return localStorage.setItem(n,JSON.stringify([...o,i])),i}async function l(t){String(t).startsWith("local-")||await function(t){return s.A.delete(`${r}/words/${t}`)}(t);const e=JSON.parse(localStorage.getItem(n)||"[]").filter((e=>String(e.id)!==String(t)));localStorage.setItem(n,JSON.stringify(e));const a=JSON.parse(localStorage.getItem(i)||"[]");return a.includes(String(t))||(a.push(String(t)),localStorage.setItem(i,JSON.stringify(a))),t}async function d(){const t=await s.A.get(`${r}/words`).then((t=>t.data)),e=JSON.parse(localStorage.getItem(i)||"[]"),a=JSON.parse(localStorage.getItem(n)||"[]"),o=t.filter((t=>!e.includes(String(t.id))));return[...o.map((t=>a.find((e=>String(e.id)===String(t.id)))||t)),...a.filter((t=>!o.find((e=>String(e.id)===String(t.id)))))]}}}]);
//# sourceMappingURL=802.e2ac94ed.chunk.js.map