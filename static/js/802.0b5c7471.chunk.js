"use strict";(self.webpackChunkenglish_flashcards=self.webpackChunkenglish_flashcards||[]).push([[802],{2802:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});a(5043);var n=a(9781),s=a(5604),r=a(5207),c=a(6273),i=a(6232);const o={page:"VocabPage_page__JdCUR",status:"VocabPage_status__TapHR",title:"VocabPage_title__Q+gxY",table:"VocabPage_table__mZDms",actions:"VocabPage_actions__G2xyx",repeatButton:"VocabPage_repeatButton__WEbW9"};var l=a(579);function d(){const t=(0,n.jE)(),e=JSON.parse(localStorage.getItem("vocabProgress")||"{}"),{data:a=[],isLoading:d,isError:g}=(0,s.I)({queryKey:["vocabWords"],queryFn:async()=>(await(0,r.qi)()).filter(t=>{var a;return null===(a=e[t.id])||void 0===a?void 0:a.knownByUser}),refetchOnWindowFocus:!1});return d?(0,l.jsx)(i.A,{}):g?(0,l.jsx)("p",{className:o.status,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435"}):(0,l.jsxs)("div",{className:o.page,children:[(0,l.jsx)("h2",{className:o.title,children:"\u041c\u043e\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u043d\u044b\u0439 \u0437\u0430\u043f\u0430\u0441"}),0===a.length?(0,l.jsx)("p",{className:o.status,children:"\u0421\u043b\u043e\u0432\u0430\u0440\u044c \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442."}):(0,l.jsxs)("table",{className:o.table,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"\u0421\u043b\u043e\u0432\u043e"}),(0,l.jsx)("th",{children:"\u0422\u0440\u0430\u043d\u0441\u043a\u0440\u0438\u043f\u0446\u0438\u044f"}),(0,l.jsx)("th",{children:"\u041f\u0435\u0440\u0435\u0432\u043e\u0434"}),(0,l.jsx)("th",{children:"\u0422\u0435\u043c\u0430"}),(0,l.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,l.jsx)("tbody",{children:a.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.english}),(0,l.jsx)("td",{children:e.transcription||"\u2014"}),(0,l.jsx)("td",{children:e.russian}),(0,l.jsx)("td",{children:e.tags||"\u2014"}),(0,l.jsx)("td",{className:o.actions,children:(0,l.jsx)("button",{className:o.repeatButton,onClick:()=>(e=>{(0,c.R)(e),t.setQueryData(["vocabWords"],t=>(t||[]).filter(t=>t.id!==e));const n=a.find(t=>t.id===e);t.setQueryData(["trainWords"],t=>n?[n,...t||[]]:t||[])})(e.id),children:" \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c "})})]},"vocab-".concat(e.id)))})]})]})}},5207:(t,e,a)=>{a.d(e,{Kk:()=>l,KW:()=>f,I0:()=>p,qi:()=>x,ob:()=>S});var n=a(2555),s=a(9722);function r(t){try{return JSON.parse(localStorage.getItem(t))||[]}catch(e){return[]}}function c(t,e){localStorage.setItem(t,JSON.stringify(e))}const i="https://flashcards-api-snowy-mountain-4760.fly.dev",o="addedWords",l="deletedWords",d=()=>s.A.get("".concat(i,"/words")).then(t=>t.data),g=t=>s.A.post("".concat(i,"/words"),t).then(t=>t.data),u=t=>s.A.put("".concat(i,"/words/").concat(t.id),t).then(t=>t.data),h=t=>s.A.delete("".concat(i,"/words/").concat(t));async function f(t){try{const e=await g(t);if(null!=(null===e||void 0===e?void 0:e.id)){const a=r(o).filter(e=>String(e.english).toLowerCase()!==t.english.toLowerCase());return c(o,a),e}}catch(s){}const e=(0,n.A)({id:"local-".concat(Date.now())},t),a=r(o);return c(o,[...a,e]),e}async function S(t){const e=await u(t),a="number"===typeof e.id?e.id:t.id,s=(0,n.A)({id:a},t),i=r(o).filter(t=>String(t.id)!==String(a));return c(o,[...i,s]),s}async function p(t){String(t).startsWith("local-")||await h(t);const e=r(o).filter(e=>String(e.id)!==String(t));c(o,e);const a=r(l);return a.includes(String(t))||c(l,[...a,String(t)]),t}async function x(){const t=await d(),e=r(l),a=r(o),n=t.filter(t=>!e.includes(String(t.id)));return[...n.map(t=>a.find(e=>String(e.id)===String(t.id))||t),...a.filter(t=>!n.find(e=>String(e.id)===String(t.id)))]}},6273:(t,e,a)=>{a.d(e,{R:()=>o,p:()=>i});var n=a(2555),s=a(5043);const r="vocabProgress",c={correctStreak:0,knownByUser:!1};function i(t){const[e,a]=(0,s.useState)(c);(0,s.useEffect)(()=>{const e=JSON.parse(localStorage.getItem(r)||"{}");a(e[t]||c)},[t]);return[e,e=>{a(a=>{const s=(0,n.A)((0,n.A)({},a),e),c=JSON.parse(localStorage.getItem(r)||"{}");return c[t]=s,localStorage.setItem(r,JSON.stringify(c)),s})},()=>{a(c);const e=JSON.parse(localStorage.getItem(r)||"{}");delete e[t],localStorage.setItem(r,JSON.stringify(e))}]}function o(t){const e=JSON.parse(localStorage.getItem(r)||"{}");delete e[t],localStorage.setItem(r,JSON.stringify(e))}}}]);
//# sourceMappingURL=802.0b5c7471.chunk.js.map